<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <script>
            /**
            *    Promise.all 在接收到的所有的对象promise都变为 FulFilled 或者 Rejected 状态之后才会继续进行后面的处理
            *    Promise.race 只要有一个promise对象进入 FulFilled 或者 Rejected 状态的话，就会继续进行后面的处理。
            */

            const timerPromisefy = function(delay){
                return new Promise(function(resolve,reject){
                    setTimeout(function(){
                        resolve(delay)
                    },delay)
                })
            }

            const startDate = Date.now()

            Promise.race([
                timerPromisefy(100),
                timerPromisefy(200),
                timerPromisefy(400),
                timerPromisefy(800),
                timerPromisefy(1600)
            ]).then(function(value){
                console.log(Date.now() - startDate +'ms')
                console.log(value)
            })
        </script>
    </body>
</html>
