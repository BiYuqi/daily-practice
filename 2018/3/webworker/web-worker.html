<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div class="wrap">
      <p class="dot"></p>
      <button type="button" name="button">测试</button>
    </div>
    <script>
      const work = new Worker('work.js')
      document.querySelector('button').onclick = () => {
        work.postMessage(10)
        document.querySelector('button').setAttribute('disabled', true)
      }
      work.onmessage = (ev) => {
        console.log(ev)
        document.querySelector('.dot').innerHTML = ev.data
        if (ev.data <= 0) {
          console.log('111')
          document.querySelector('button').removeAttribute('disabled')
        }
      }

    </script>
  </body>
</html>
