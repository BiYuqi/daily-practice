<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style>

        </style>
    </head>
    <body>
        <input type="file" name="" id="">
        <button type="button" name="button">住阿奴啊</button>
        <script>
            const $ = (el) => document.querySelector(el)

            $('input').addEventListener('change',function(){
                const file = this.files[0]
                const reader = new FileReader()
                reader.onload = function(){
                    const src = this.result

                    console.log(base64ToBlob(src))
                }
                reader.readAsDataURL(file)


                // const img = document.createElement('img')
                // img.src = window.URL.createObjectURL(file)
                // document.body.appendChild(img)
            })

            function base64ToBlob(base64){
                const type = base64.match(/data:([^;]+)/)[1]
                const basestr = atob(base64.split(',')[1])
                const len = basestr.length
                const blob = new Uint8Array(len)

                for(let i=0;i<len;i++){
                    blob[i] = basestr.charCodeAt(i)
                }

                return new Blob([ blob ], { type: type})
            }

            var c = document.createElement('canvas')
            document.body.appendChild(c)

            console.log(window.getComputedStyle($('canvas'),null).width)
            console.log($('canvas').getBoundingClientRect().width)

            $('button').addEventListener('click',function(){
                var data = {
                    "transform": "rotate(90deg)"
                }
                $('canvas').style['transform'] = data.transform

                console.log(window.getComputedStyle($('canvas'),null).width)
                console.log($('canvas').getBoundingClientRect().width)
            })
        </script>
    </body>
</html>
