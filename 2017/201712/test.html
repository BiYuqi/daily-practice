<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style>
            .box{
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%,-50%);
                border: 1px dashed red;
            }
        </style>
    </head>
    <body>
        <div class="box"><canvas id="canvas" width="300" height="300"></canvas></div>
        <script type="text/javascript">
            const $ = (el) => document.querySelector(el)
            const canvas = $('canvas')
            const ctx = canvas.getContext('2d')
            const rad = Math.PI/100
            const radius = 120
            console.log(rad)

            const x = 150
            const y = 150
            let start = 0
            function line(){
                    if(start >= Math.PI*2){
                        start = 0
                    }
                // while (start < 2*Math.PI) {
                    function staric(){
                        ctx.clearRect(0,0,canvas.width,canvas.height)
                        ctx.beginPath()
                        ctx.arc(x,y,10,0,Math.PI*2)
                        ctx.fillStyle = 'green'
                        ctx.fill()
                        ctx.closePath()
                    }
                     staric()
                    const xx = x + radius*Math.cos(start)
                    const yy = y + radius*Math.sin(start)
                    ctx.beginPath()
                    ctx.moveTo(x,y)
                    ctx.lineTo(xx,yy)
                    ctx.strokeStyle = 'red'
                    ctx.closePath()
                    ctx.stroke();

                    ctx.beginPath()
                    ctx.arc(xx,yy,20,0,Math.PI*2)
                    ctx.fillStyle = 'green'
                    ctx.fill()
                    ctx.closePath()

                    start += rad
                // }
                console.log(start)
                requestAnimationFrame(line)
            }
            line()

        </script>
    </body>
</html>
