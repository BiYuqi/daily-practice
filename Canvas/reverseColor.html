<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <canvas id="canvas" width="300" height="300"></canvas>
        <script>
            const $ = (el) => document.querySelector(el)
            const canvas = $('#canvas')
            const ctx = canvas.getContext('2d')
            const img = new Image()
            img.onload = function(){
                ctx.drawImage(this,0,0,canvas.width,canvas.height)
                const imageData = ctx.getImageData(0,0,canvas.width,canvas.height)
                ctx.clearRect(0,0,canvas.width,canvas.height)
                const pixels = imageData.data

                for(let i=0;i<pixels.length;i++){
                    pixels[i*4] = 255 - pixels[i*4]
                    pixels[i*4+1] = 255 - pixels[i*4+1]
                    pixels[i*4+2] = 255 - pixels[i*4+2]
                }
                ctx.putImageData(imageData,0,0)
            }
            img.setAttribute('crossOrigin','Anonymous')
            img.src='http://oq4hkch8e.bkt.clouddn.com/indexslide-code.png'
        </script>
    </body>
</html>
