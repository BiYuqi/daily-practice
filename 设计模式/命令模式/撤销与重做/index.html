<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <button class="btn"></button>
        <script>
            //撤消和重做
            // 创建命令
            var commondMake = function(resiver,state){
                return function(){
                    resiver[state] && resiver[state]()
                }
            }

            var commands = {
                '119':'jump',        // w
                "115": "crouch",    // S
                "97": "defense",    // A
                "100": "attack"    // D
            }

            var gather = {
                jump:function(){
                    console.log("跳跃")
                },
                crouch:function(){
                    console.log("蹲下")
                },
                defense:function(){
                    console.log("防御")
                },
                attack:function(){
                    console.log("攻击")
                }
            }
            document.onkeypress = function(e){
                var key = e.keyCode;
                var commond = commondMake(gather,commands[key])
                if(commond){
                    commond()
                }
            }
        </script>
    </body>
</html>
