<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <script>
            const _each = (obj,callback) => {
                let value,
                    len = obj.length,
                    isArray = Object.prototype.toString.call(obj) === '[object Array]';
                if(isArray){
                    for(let i=0;i<len;i++){
                        value = callback.call(obj[i],i,obj[i])
                        // 可终止迭代器
                        // 下面会演示
                        if(value === false){
                            break
                        }
                    }
                }else{
                    for(i in obj){
                        value = callback.call(obj[i],i,obj[i])
                        // 可终止迭代器
                        // 下面会演示
                        if(value === false){
                            break
                        }
                    }
                }
                return obj
            }

            const ex = ['one','two','three','four','five']
            const ex2 = {
                name:"biyuqi",
                adress:"科技路",
                job:['白领','百万富翁']
            }

            _each(ex,function(k,v){
                // 终止迭代器
                if(k > 3){
                    return
                }
                console.log(k,v)
            })

            _each(ex2,function(k,v){
                console.log(k)
            })
        </script>
    </body>
</html>
